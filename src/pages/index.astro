---
import { getCollection } from 'astro:content';
import MainLayout from '../layouts/MainLayout.astro';

const articles = await getCollection('articles');

const sorted = articles
  .sort((a, b) => b.data.pubDate - a.data.pubDate)
  .slice(0, 10);
---

<MainLayout title="Better Health Research">

<h1>Latest Research Articles</h1>

{sorted.map(article => (
  <div class="card">
    <a href={`/articles/${article.slug}/`}>
      <h3>{article.data.title}</h3>
      <p style="color:#6b7280;">{article.data.description}</p>
    </a>
  </div>
))}

</MainLayout>
